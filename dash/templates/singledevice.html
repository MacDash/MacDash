{% extends "base.html" %}
{% load dash_extras %}
{% block content %}
    <!-- DataTables style -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.2.1/css/buttons.bootstrap.min.css">
      <!-- Content Wrapper. Contains page content -->
      <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
          <h1>
            {{ device.name }}
          </h1>
        	<ol class="breadcrumb">
          	<li><a href="{% url 'home' %}"><i class="fa fa-dashboard"></i> Home</a></li>
  			<li><a href="{% url 'devices' %}"> Devices</a></li>
          	<li class="active">Single Device</li>
        	</ol>
        </section>

        <!-- Main content -->
        <section class="content">
          <div class="row">
            <div class="col-md-12">
              <div class="box">
                <div class="box-body">
		          <div class="row">
		             <div class="col-md-4 col-sm-6 col-xs-12">
					   <div class="box">
			              <div class="box-body no-padding">
			                <table class="table table-striped">
			                  <tbody>
			                  <tr>
			                    <td><strong>Name:</strong></td>
			                    <td>{{ device.name }}</td>
			                  </tr>	  
			                  <tr>
			                    <td><strong>Serial #:</strong></td>
			                    <td>{{ device.serial_number }}</td>
			                  </tr>
			                  <tr>
			                    <td><strong>Model:</strong></td>
			                    <td>{{ device.model }}</td>
			                  </tr>
			                  <tr>
			                    <td><strong>OS:</strong></td>
			                    <td>{{ device.os_version }}</td>
			                  </tr>
			                  <tr>
			                    <td><strong>Asset #:</strong></td>
			                    <td>{{ device.asset_tag }}</td>
			                  </tr>
			                </tbody></table>
			              </div>
			              <!-- /.box-body -->
			            </div>
		            </div><!-- /.col -->  
		            <div class="col-md-4 col-sm-6 col-xs-12">
					  <div class="">
		              <img src="/static/images/MacBook_Pro_Retina.png" class="img-responsive" alt="MacBook Pro Retina">
				      </div>
		            </div><!-- /.col -->
 		             <div class="col-md-4 col-sm-6 col-xs-12">
 					   <div class="box">
 			              <div class="box-body no-padding">
 			                <table class="table table-striped">
 			                  <tbody>
 			                  <tr>
 			                    <td><strong>User:</strong></td>
 			                    <td>{{ device.real_name }}</td>
 			                  </tr>
 			                  <tr>
 			                    <td><strong>Location:</strong></td>
 			                    <td>{{ device.building }}</td>
 			                  </tr>
 			                  <tr>
 			                    <td><strong>IP Address:</strong></td>
 			                    <td>{{ device.ip_address}}</td>
 			                  </tr>
 			                  <tr>
 			                    <td><strong>MAC Address:</strong></td>
 			                    <td>{{ device.mac_address }}</td>
 			                  </tr>
			                  <tr>
			                    <td><strong>Warranty Exp:</strong></td>
			                    <td>{{ device.warranty_expires_utc }}</td>
			                  </tr>
 			                </tbody></table>
 			              </div>
 			              <!-- /.box-body -->
 			            </div>
 		            </div><!-- /.col -->
                  </div><!-- /.row -->
                </div><!-- ./box-body -->
                <div class="box-footer">
                  <div class="row">
                    <div class="col-sm-2 col-xs-6">
                      <div class="description-block border-right">
                        <i class="fa fa-calendar fa-2x"></i>
                        <h5 class="description-header text-green">3 DAYS</h5>
                        <span class="description-text">Last Check-in</span>
                      </div><!-- /.description-block -->
                    </div><!-- /.col -->
                    <div class="col-sm-2 col-xs-6">
                      <div class="description-block border-right">
                        <i class="fa fa-battery-3 fa-2x"></i>
                        <h5 class="description-header text-green">75%</h5>
                        <span class="description-text">Battery</span>
                      </div><!-- /.description-block -->
                    </div><!-- /.col -->
                    <div class="col-sm-2 col-xs-6">
                      <div class="description-block border-right">
                        <i class="fa fa-hdd-o fa-2x"></i>
                        <h5 class="description-header text-green">250 GB</h5>
                        <span class="description-text">Storage</span>
                      </div><!-- /.description-block -->
                    </div><!-- /.col -->
                    <div class="col-sm-2 col-xs-6">
                      <div class="description-block border-right">
                        <i class="fa fa-info-circle fa-2x"></i>
                        <h5 class="description-header text-green">{{ device.total_ram_mb|sizeof_fmt }}</h5>
                        <span class="description-text">Memory</span>
                      </div><!-- /.description-block -->
                    </div><!-- /.col -->
                    <div class="col-sm-2 col-xs-6">
                      <div class="description-block border-right">
                        <i class="fa fa-bolt fa-2x"></i>
                        <h5 class="description-header text-green">Low</h5>
                        <span class="description-text">Workload</span>
                      </div><!-- /.description-block -->
                    </div><!-- /.col -->
                    <div class="col-sm-2 col-xs-6">
                      <div class="description-block border-right"> 
                        <i class="fa fa-history fa-2x"></i>
                        <h5 class="description-header text-green">15 Days</h5>
                        <span class="description-text">Backup</span>
                      </div><!-- /.description-block -->
                    </div>
                  </div><!-- /.row -->
                </div><!-- /.box-footer -->
              </div><!-- /.box -->
            </div><!-- /.col -->
          </div><!-- /.row -->
          <!-- Device Details/Applications Installed -->
		  <div class="nav-tabs-custom">
           <ul class="nav nav-tabs">
             <li class="active"><a href="#tab_1" data-toggle="tab"><strong>Device Details</strong></a></li>
             <li><a href="#tab_2" data-toggle="tab"><strong>Installed Applications</strong></a></li>
           </ul>
           <div class="tab-content">
             <div class="tab-pane active" id="tab_1">
               <b>Testing 1-2-3</b>

               <p>This is a test, this is only a test.
             </div>
             <!-- /.tab-pane -->
             <div class="tab-pane" id="tab_2">
                 <table id="applications_singledevice" class="table table-striped table-bordered" cellspacing="0" width="100%">
                  <thead>
                    <tr>
                      {% for column in columns %}
                        <th>{{ column.1 }}</th>
                      {% endfor %}      
                    </tr>
                  </thead>
                  <tfoot>
                    <tr>
                      {% for column in columns %}
                        <th>{{ column.1 }}</th>
                      {% endfor %}
                    </tr>
                  </tfoot>
                  <tbody>
                    {% for item in items %}
                    <tr role="row">
                      {% for column in columns %}
                        {% if column.0 == link_column.0 %}
                          <td><a href="{% url link_column.1 item.id %}">{{ item|getattribute:column.0 }}</a>
                        {% else %}
                          <td>{{ item|getattribute:column.0 }}</td>
                        {% endif %}
                      {% endfor %}
                    </tr>
                    {% endfor %}      
                  </tbody>
                </table>
              </div>
             <!-- /.tab-pane -->
           </div>
           <!-- /.tab-content -->
         </div>
        </section><!-- /.content -->
      </div><!-- /.content-wrapper -->
  <!-- DataTables -->
  <script src="https://code.jquery.com/jquery-1.12.3.min.js"></script>
  <!-- page script -->
  <script>
  $(document).ready(function() {
      var table = $('#applications_singledevice').DataTable( {
          lengthChange: true,
          colReorder: true,
          buttons: [ 'copy', 'excel', 'pdf', 'colvis' ]
  

      } );
 
      table.buttons().container()
          .appendTo( '#devices_wrapper .col-sm-6:eq(0)' );
      } );
  </script>
{% endblock %}
